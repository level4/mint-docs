{"components":{"responses":{},"schemas":{"Combined Payment Offer and TX Request":{"description":"A combination of a Payment Offer and a Transaction Request","example":{"accept":{"args":{"payment_request_hash":"efa31e68e0cc1fc8d5447b6c5ea101c751381692f0b97e64fd5187f60b68d647"},"encrypted":"clear","function":"fastpay","id":"0191a7d4-d876-7927-8629-c8f1f9df8c55","key":"GKKPAB7n9GXj8fJr8mB7k9Maw6mesaQ9UyqE7Hk74tTC","law":"normal","signature":"2CbUf2P9bWhEfcSXw19ozKKhKEwuFqqn8UtCPQQ1zQ7yJG4hu9LEosPhNQAaVQQ4VQYiRB36kjEA4hMUtA8xhYSs","signer":"root@ec.dev.veratix.io","target":"pay.dev.veratix.io","ttl":5000,"version":"1.0"},"offer":{"hash":"efa31e68e0cc1fc8d5447b6c5ea101c751381692f0b97e64fd5187f60b68d647","instruction":{"amount":0.01,"beneficiary":"Z7z883kfQWYkgkoBJikoTCWxoQHt@dev.veratix.io","callback":"","currency":"USD","equivalents":{"convert":"auto","native":["USDeq","VTX"],"proxy":["USDC","USDT"]},"item":{"id":"READ12345","oneoff":true,"realm":"example.com/my/webpage/12345","type":"article","validFor":86400},"key":"HtFMpu8LQka2z9BP2BW7KZWn84pqFh2ZxB3ZU56Uo6yk","metadata":{}},"signature":"3EsWt6QHfXxZi6tWNTtWRPpDaczK7BKHWYQSCiURhGDayKEzxTY2W8E2RFKWLHRGvKDRKaw8ZR1mtvPHNee7x5CW","version":"1.0"}},"properties":{"accept":{"$ref":"#/components/schemas/TX Request"},"offer":{"$ref":"#/components/schemas/Payment Offer"}},"required":["offer","accept"],"title":"Combined Payment Offer and TX Request","type":"object"},"Entitlement Response":{"example":{"entitlement":{"hash":"72d04a04868a87c8a52ebdc4feddaf3400d365588c488a88743688d2762a9211","proof":{"access_period":{"start":"2024-09-01T12:05:56.112244Z"},"bearer":"Z7z883kjaEMEpPpxiiy2iDmGBcud","bearer_key":"GKKPAB7n9GXj8fJr8mB7k9Maw6mesaQ9UyqE7Hk74tTC","instruction":{"beneficiary":"Z7z883kfQWYkgkoBJikoTCWxoQHt@dev.veratix.io","hash":"efa31e68e0cc1fc8d5447b6c5ea101c751381692f0b97e64fd5187f60b68d647","realm":"example.com/my/webpage/12345"},"payment_details":{"paid_amount":"0.002","paid_currency":"VTX","txid":"VZ8Tgxj8TD98KwqHxPpuoNQkHkP5"}},"signature":"3BPBj6uZo5ajjFy12SGYiZq6zYcuD5djmNegMtKDKf2YTauRTiquyoNDFB4i44nrT2dEyL37Z5gmpxUwmvcDMzY6","version":"1.0"}},"properties":{"entitlement":{"properties":{"hash":{"description":"Hash of the entitlement","type":"string"},"proof":{"properties":{"access_period":{"properties":{"start":{"description":"Start time of the access period","format":"date-time","type":"string"}},"required":["start"],"type":"object"},"bearer":{"description":"Bearer of the entitlement","type":"string"},"bearer_key":{"description":"Key of the bearer","type":"string"},"instruction":{"properties":{"beneficiary":{"description":"Beneficiary of the entitlement","type":"string"},"hash":{"description":"Hash of the instruction","type":"string"},"realm":{"description":"Realm of the entitlement","type":"string"}},"required":["beneficiary","hash","realm"],"type":"object"},"payment_details":{"properties":{"paid_amount":{"description":"Amount paid","type":"string"},"paid_currency":{"description":"Currency of the payment","type":"string"},"txid":{"description":"Transaction ID","type":"string"}},"required":["paid_amount","paid_currency","txid"],"type":"object"}},"required":["access_period","bearer","bearer_key","instruction","payment_details"],"type":"object"},"signature":{"description":"Signature of the entitlement","type":"string"},"version":{"description":"Version of the entitlement","type":"string"}},"required":["hash","proof","signature","version"],"type":"object"}},"required":["entitlement"],"title":"Entitlement Response","type":"object"},"Payment Instruction":{"description":"Instructions for a payment","properties":{"amount":{"description":"Amount of the payment","type":"number"},"beneficiary":{"description":"Beneficiary of the payment","type":"string"},"callback":{"description":"Callback URL","type":"string"},"currency":{"description":"Currency of the payment","type":"string"},"equivalents":{"properties":{"convert":{"description":"Conversion method","type":"string"},"native":{"description":"Native currencies","items":{"type":"string"},"type":"array"},"proxy":{"description":"Proxy currencies","items":{"type":"string"},"type":"array"}},"required":["convert","native","proxy"],"type":"object"},"item":{"properties":{"id":{"description":"Unique identifier for the item","type":"string"},"oneoff":{"description":"Whether this is a one-off payment","type":"boolean"},"realm":{"description":"Realm of the item","type":"string"},"type":{"description":"Type of the item","type":"string"},"validFor":{"description":"Validity period in seconds","type":"integer"}},"required":["id","oneoff","realm","type","validFor"],"type":"object"},"key":{"description":"Public key for the instruction","type":"string"},"metadata":{"description":"Additional metadata for the instruction","type":"object"}},"required":["metadata","item","equivalents","callback","key","beneficiary","currency","amount"],"title":"Payment Instruction","type":"object"},"Payment Offer":{"description":"Terms for payment to satisfy a condition, signed by the offerer","example":{"hash":"efa31e68e0cc1fc8d5447b6c5ea101c751381692f0b97e64fd5187f60b68d647","instruction":{"amount":0.01,"beneficiary":"Z7z883kfQWYkgkoBJikoTCWxoQHt@dev.veratix.io","callback":"","currency":"USD","equivalents":{"convert":"auto","native":["USDeq","VTX"],"proxy":["USDC","USDT"]},"item":{"id":"READ12345","oneoff":true,"realm":"example.com/my/webpage/12345","type":"article","validFor":86400},"key":"HtFMpu8LQka2z9BP2BW7KZWn84pqFh2ZxB3ZU56Uo6yk","metadata":{}},"signature":"3EsWt6QHfXxZi6tWNTtWRPpDaczK7BKHWYQSCiURhGDayKEzxTY2W8E2RFKWLHRGvKDRKaw8ZR1mtvPHNee7x5CW","version":"1.0"},"properties":{"hash":{"description":"Hash of the payment offer","type":"string"},"instruction":{"$ref":"#/components/schemas/Payment Instruction"},"signature":{"description":"Signature of the payment offer","type":"string"},"version":{"description":"Version of the payment offer. Currently 1.0","type":"string"}},"required":["version","signature","hash","instruction"],"title":"Payment Offer","type":"object"},"TX Request":{"description":"A transaction request object","example":{"args":{"payment_request_hash":"efa31e68e0cc1fc8d5447b6c5ea101c751381692f0b97e64fd5187f60b68d647"},"encrypted":"clear","function":"fastpay","id":"0191a7d4-d876-7927-8629-c8f1f9df8c55","key":"GKKPAB7n9GXj8fJr8mB7k9Maw6mesaQ9UyqE7Hk74tTC","law":"normal","signature":"2CbUf2P9bWhEfcSXw19ozKKhKEwuFqqn8UtCPQQ1zQ7yJG4hu9LEosPhNQAaVQQ4VQYiRB36kjEA4hMUtA8xhYSs","signer":"root@ec.dev.veratix.io","target":"pay.dev.veratix.io","ttl":5000,"version":"1.0"},"properties":{"args":{"additionalProperties":{"type":"string"},"description":"Arguments for the function call, can be any number of key-value pairs","type":"object"},"encrypted":{"description":"Requested encryption status","enum":["clear"],"type":"string"},"function":{"description":"Name of the function to be called","type":"string"},"id":{"description":"Unique and recent UUID7 identifier for the request","format":"uuid","type":"string"},"key":{"description":"Public key associated with the request","type":"string"},"law":{"description":"Requested law governing the transaction. ","enum":["normal","alternate","direct"],"type":"string"},"signature":{"description":"Signature of the request","type":"string"},"signer":{"description":"Entity that signed the request","type":"string"},"target":{"description":"Destination you wish your request to be processed on","type":"string"},"ttl":{"description":"Time To Live for the request in milliseconds. Measured from the time of in the UUID","type":"integer"},"version":{"description":"Version of the request format","type":"string"}},"required":["id","target","function","args","ttl","signature","key","version"],"title":"TX Request","type":"object"}}},"info":{"title":"Veratix API","version":"1.0"},"openapi":"3.0.0","paths":{"/api/v1/entitlements/in/{id}":{"get":{"callbacks":{},"operationId":"GtxWeb.EntitlementsController.inbound","parameters":[{"description":"User ID","example":"VZ8Nk1GUtPUm2EdMpYQ7ka51XNz2","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Entitlement Response"}}},"description":"EntitlementResponse"}},"summary":"List Inbound entitlements","tags":["entitlements"]}},"/api/v1/entitlements/out/{id}":{"get":{"callbacks":{},"operationId":"GtxWeb.EntitlementsController.outbound","parameters":[{"description":"User ID","example":"VZ8Nk1GUtPUm2EdMpYQ7ka51XNz2","in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Entitlement Response"}}},"description":"EntitlementResponse"}},"summary":"List outbound entitlements","tags":["entitlements"]}},"/api/v1/pay":{"post":{"callbacks":{},"operationId":"GtxWeb.PayController.create","parameters":[],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Combined Payment Offer and TX Request"}}},"description":"Combined offer and TX params","required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Entitlement Response"}}},"description":"EntitlementResponse"}},"summary":"Create new payment","tags":["payment"]}}},"security":[],"servers":[{"url":"http://localhost:8888","variables":{}}],"tags":[]}